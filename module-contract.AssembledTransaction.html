<!DOCTYPE html>
<html lang="en">

<head>
  
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>@stellar/stellar-sdk Documentation AssembledTransaction</title>

  <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
  <script src="./build/entry.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
  <![endif]-->
  <link href="https://fonts.googleapis.com/css?family=Roboto:100,400,700|Inconsolata,700" rel="stylesheet">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
  <link type="text/css" rel="stylesheet" href="https://jmblog.github.io/color-themes-for-google-code-prettify/themes/tomorrow-night.min.css">
  <link type="text/css" rel="stylesheet" href="styles/app.min.css">
  <link type="text/css" rel="stylesheet" href="styles/iframe.css">
  <link type="text/css" rel="stylesheet" href="">
  <script async defer src="https://buttons.github.io/buttons.js"></script>

  
</head>



<body class="layout small-header">
    <div id="stickyNavbarOverlay"></div>
    

<div class="top-nav">
    <div class="inner">
        <a id="hamburger" role="button" class="navbar-burger" aria-label="menu" aria-expanded="false">
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
            <span aria-hidden="true"></span>
        </a>
        <div class="logo">
            
             
                <a href="index.html">
                    <h1 class="navbar-item">@stellar/stellar-sdk</h1>
                </a>
            
        </div>
        <div class="menu">
            
            <div class="navigation">
                <a
                    href="index.html"
                    class="link"
                >
                    Documentation
                </a>
                
                 
                    
                        <a
                            class="link user-link "
                            href="https://github.com/stellar/js-stellar-sdk"
                        >
                            GitHub
                        </a>
                    
                        <a
                            class="link user-link "
                            href="https://www.npmjs.com/package/@stellar/stellar-sdk"
                        >
                            npm
                        </a>
                    
                
                
            </div>
        </div>
    </div>
</div>
    <div id="main">
        <div
            class="sidebar "
            id="sidebarNav"
        >
            
                <div class="search-wrapper">
                    <input id="search" type="text" placeholder="Search docs..." class="input">
                </div>
            
            <nav>
                
                    <h2><a href="index.html">Documentation</a></h2><div class="category"><h3>Modules</h3><ul><li><a href="module-Federation.html">Federation</a></li><li><a href="module-Horizon.html">Horizon</a></li><li><a href="module-StellarToml.html">StellarToml</a></li><li><a href="module-WebAuth.html">WebAuth</a></li><li><a href="module-contract.html">contract</a></li><li><a href="module-rpc.html">rpc</a></li></ul><h3>Classes</h3><ul><li><a href="Account.html">Account</a></li><li><a href="Address.html">Address</a></li><li><a href="Asset.html">Asset</a></li><li><a href="CallBuilder.html">CallBuilder</a></li><li><a href="Claimant.html">Claimant</a></li><li><a href="Config.html">Config</a></li><li><a href="Contract.html">Contract</a></li><li><a href="FeeBumpTransaction.html">FeeBumpTransaction</a></li><li><a href="Int128_Int128.html">Int128#Int128</a></li><li><a href="Int256_Int256.html">Int256#Int256</a></li><li><a href="Keypair.html">Keypair</a></li><li><a href="LiquidityPoolAsset.html">LiquidityPoolAsset</a></li><li><a href="LiquidityPoolId.html">LiquidityPoolId</a></li><li><a href="Memo.html">Memo</a></li><li><a href="MuxedAccount.html">MuxedAccount</a></li><li><a href="Operation.html">Operation</a></li><li><a href="ScInt.html">ScInt</a></li><li><a href="SignerKey.html">SignerKey</a></li><li><a href="SorobanDataBuilder.html">SorobanDataBuilder</a></li><li><a href="Spec_Spec.html">Spec#Spec</a></li><li><a href="StrKey.html">StrKey</a></li><li><a href="Transaction.html">Transaction</a></li><li><a href="TransactionBuilder.html">TransactionBuilder</a></li><li><a href="Uint128_Uint128.html">Uint128#Uint128</a></li><li><a href="Uint256_Uint256.html">Uint256#Uint256</a></li><li><a href="Utils.html">Utils</a></li><li><a href="XdrLargeInt.html">XdrLargeInt</a></li><li><a href="module-Federation.Server.html">Federation.Server</a></li><li><a href="module-Horizon.Server.html">Horizon.Server</a></li><li><a href="module-StellarToml.Resolver.html">StellarToml.Resolver</a></li><li><a href="module-contract.AssembledTransaction.html">contract.AssembledTransaction</a></li><li><a href="module-contract.Client.html">contract.Client</a></li><li><a href="module-contract.SentTransaction.html">contract.SentTransaction</a></li><li><a href="module-contract.Spec.html">contract.Spec</a></li><li><a href="module-rpc.Server.html">rpc.Server</a></li></ul><h3>Interfaces</h3><ul><li><a href="Configuration.html">Configuration</a></li><li><a href="module-contract.ErrorMessage.html">contract.ErrorMessage</a></li><li><a href="module-contract.Result.html">contract.Result</a></li></ul><h3>Global</h3><ul><li><a href="global.html#AuthClawbackEnabledFlag">AuthClawbackEnabledFlag</a></li><li><a href="global.html#AuthImmutableFlag">AuthImmutableFlag</a></li><li><a href="global.html#AuthRequiredFlag">AuthRequiredFlag</a></li><li><a href="global.html#AuthRevocableFlag">AuthRevocableFlag</a></li><li><a href="global.html#BASE_FEE">BASE_FEE</a></li><li><a href="global.html#LinearSleepStrategy">LinearSleepStrategy</a></li><li><a href="global.html#MemoHash">MemoHash</a></li><li><a href="global.html#MemoID">MemoID</a></li><li><a href="global.html#MemoNone">MemoNone</a></li><li><a href="global.html#MemoReturn">MemoReturn</a></li><li><a href="global.html#MemoText">MemoText</a></li><li><a href="global.html#Networks">Networks</a></li><li><a href="global.html#TimeoutInfinite">TimeoutInfinite</a></li><li><a href="global.html#asciiCompare">asciiCompare</a></li><li><a href="global.html#authorizeEntry">authorizeEntry</a></li><li><a href="global.html#authorizeInvocation">authorizeInvocation</a></li><li><a href="global.html#buildInvocationTree">buildInvocationTree</a></li><li><a href="global.html#decodeAddressToMuxedAccount">decodeAddressToMuxedAccount</a></li><li><a href="global.html#defaultConfig">defaultConfig</a></li><li><a href="global.html#encodeMuxedAccount">encodeMuxedAccount</a></li><li><a href="global.html#encodeMuxedAccountToAddress">encodeMuxedAccountToAddress</a></li><li><a href="global.html#extractBaseAddress">extractBaseAddress</a></li><li><a href="global.html#getLiquidityPoolId">getLiquidityPoolId</a></li><li><a href="global.html#humanizeEvents">humanizeEvents</a></li><li><a href="global.html#isValid">isValid</a></li><li><a href="global.html#isValidDate">isValidDate</a></li><li><a href="global.html#nativeToScVal">nativeToScVal</a></li><li><a href="global.html#scValToBigInt">scValToBigInt</a></li><li><a href="global.html#scValToNative">scValToNative</a></li><li><a href="global.html#walkInvocationTree">walkInvocationTree</a></li></ul></div><div class="category"><h2>Errors</h2><h3>Classes</h3><ul><li><a href="AccountRequiresMemoError.html">AccountRequiresMemoError</a></li><li><a href="BadRequestError.html">BadRequestError</a></li><li><a href="BadResponseError.html">BadResponseError</a></li><li><a href="NetworkError.html">NetworkError</a></li><li><a href="NotFoundError.html">NotFoundError</a></li><li><a href="module-WebAuth.InvalidChallengeError.html">WebAuth.InvalidChallengeError</a></li></ul></div>
                
            </nav>
        </div>
        <div class="core" id="main-content-wrapper">
            <div class="content">
                <header class="page-title">
                    <p>Class</p>
                    <h1>AssembledTransaction</h1>
                </header>
                




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="module-contract.html">contract</a>.</span>AssembledTransaction<span class="signature">()</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>The main workhorse of <a href="Client.html">Client</a>. This class is used to wrap a
transaction-under-construction and provide high-level interfaces to the most
common workflows, while still providing access to low-level stellar-sdk
transaction manipulation.</p>
<p>Most of the time, you will not construct an <code>AssembledTransaction</code> directly,
but instead receive one as the return value of a <code>Client</code> method. If
you're familiar with the libraries generated by soroban-cli's <code>contract bindings typescript</code> command, these also wraps <code>Client</code> and return
<code>AssembledTransaction</code> instances.</p>
<p>Let's look at examples of how to use <code>AssembledTransaction</code> for a variety of
use-cases:</p>
<h4 id="1.-simple-read-call">1. Simple read call</h4>
<p>Since these only require simulation, you can get the <code>result</code> of the call
right after constructing your <code>AssembledTransaction</code>:</p>
<pre class="prettyprint source lang-ts"><code>const { result } = await AssembledTransaction.build({
  method: 'myReadMethod',
  args: spec.funcArgsToScVals('myReadMethod', {
    args: 'for',
    my: 'method',
    ...
  }),
  contractId: 'C123…',
  networkPassphrase: '…',
  rpcUrl: 'https://…',
  publicKey: undefined, // irrelevant, for simulation-only read calls
  parseResultXdr: (result: xdr.ScVal) =>
    spec.funcResToNative('myReadMethod', result),
})
</code></pre>
<p>While that looks pretty complicated, most of the time you will use this in
conjunction with <a href="Client.html">Client</a>, which simplifies it to:</p>
<pre class="prettyprint source lang-ts"><code>const { result }  = await client.myReadMethod({
  args: 'for',
  my: 'method',
  ...
})
</code></pre>
<h4 id="2.-simple-write-call">2. Simple write call</h4>
<p>For write calls that will be simulated and then sent to the network without
further manipulation, only one more step is needed:</p>
<pre class="prettyprint source lang-ts"><code>const assembledTx = await client.myWriteMethod({
  args: 'for',
  my: 'method',
  ...
})
const sentTx = await assembledTx.signAndSend()
</code></pre>
<p>Here we're assuming that you're using a <a href="Client.html">Client</a>, rather than
constructing <code>AssembledTransaction</code>'s directly.</p>
<p>Note that <code>sentTx</code>, the return value of <code>signAndSend</code>, is a
<a href="SentTransaction.html">SentTransaction</a>. <code>SentTransaction</code> is similar to
<code>AssembledTransaction</code>, but is missing many of the methods and fields that
are only relevant while assembling a transaction. It also has a few extra
methods and fields that are only relevant after the transaction has been
sent to the network.</p>
<p>Like <code>AssembledTransaction</code>, <code>SentTransaction</code> also has a <code>result</code> getter,
which contains the parsed final return value of the contract call. Most of
the time, you may only be interested in this, so rather than getting the
whole <code>sentTx</code> you may just want to:</p>
<pre class="prettyprint source lang-ts"><code>const tx = await client.myWriteMethod({ args: 'for', my: 'method', ... })
const { result } = await tx.signAndSend()
</code></pre>
<h4 id="3.-more-fine-grained-control-over-transaction-construction">3. More fine-grained control over transaction construction</h4>
<p>If you need more control over the transaction before simulating it, you can
set various MethodOptions when constructing your
<code>AssembledTransaction</code>. With a <a href="Client.html">Client</a>, this is passed as a
second object after the arguments (or the only object, if the method takes
no arguments):</p>
<pre class="prettyprint source lang-ts"><code>const tx = await client.myWriteMethod(
  {
    args: 'for',
    my: 'method',
    ...
  }, {
    fee: '10000', // default: <a href="global.html#BASE_FEE">BASE_FEE</a>
    simulate: false,
    timeoutInSeconds: 20, // default: DEFAULT_TIMEOUT
  }
)
</code></pre>
<p>Since we've skipped simulation, we can now edit the <code>raw</code> transaction and
then manually call <code>simulate</code>:</p>
<pre class="prettyprint source lang-ts"><code>tx.raw.addMemo(Memo.text('Nice memo, friend!'))
await tx.simulate()
</code></pre>
<p>If you need to inspect the simulation later, you can access it with
<code>tx.simulation</code>.</p>
<h4 id="4.-multi-auth-workflows">4. Multi-auth workflows</h4>
<p>Soroban, and Stellar in general, allows multiple parties to sign a
transaction.</p>
<p>Let's consider an Atomic Swap contract. Alice wants to give 10 of her Token
A tokens to Bob for 5 of his Token B tokens.</p>
<pre class="prettyprint source lang-ts"><code>const ALICE = 'G123...'
const BOB = 'G456...'
const TOKEN_A = 'C123…'
const TOKEN_B = 'C456…'
const AMOUNT_A = 10n
const AMOUNT_B = 5n
</code></pre>
<p>Let's say Alice is also going to be the one signing the final transaction
envelope, meaning she is the invoker. So your app, from Alice's browser,
simulates the <code>swap</code> call:</p>
<pre class="prettyprint source lang-ts"><code>const tx = await swapClient.swap({
  a: ALICE,
  b: BOB,
  token_a: TOKEN_A,
  token_b: TOKEN_B,
  amount_a: AMOUNT_A,
  amount_b: AMOUNT_B,
})
</code></pre>
<p>But your app can't <code>signAndSend</code> this right away, because Bob needs to sign
it first. You can check this:</p>
<pre class="prettyprint source lang-ts"><code>const whoElseNeedsToSign = tx.needsNonInvokerSigningBy()
</code></pre>
<p>You can verify that <code>whoElseNeedsToSign</code> is an array of length <code>1</code>,
containing only Bob's public key.</p>
<p>Then, still on Alice's machine, you can serialize the
transaction-under-assembly:</p>
<pre class="prettyprint source lang-ts"><code>const json = tx.toJSON()
</code></pre>
<p>And now you need to send it to Bob's browser. How you do this depends on
your app. Maybe you send it to a server first, maybe you use WebSockets, or
maybe you have Alice text the JSON blob to Bob and have him paste it into
your app in his browser (note: this option might be error-prone 😄).</p>
<p>Once you get the JSON blob into your app on Bob's machine, you can
deserialize it:</p>
<pre class="prettyprint source lang-ts"><code>const tx = swapClient.txFromJSON(json)
</code></pre>
<p>Or, if you're using a client generated with <code>soroban contract bindings typescript</code>, this deserialization will look like:</p>
<pre class="prettyprint source lang-ts"><code>const tx = swapClient.fromJSON.swap(json)
</code></pre>
<p>Then you can have Bob sign it. What Bob will actually need to sign is some
<em>auth entries</em> within the transaction, not the transaction itself or the
transaction envelope. Your app can verify that Bob has the correct wallet
selected, then:</p>
<pre class="prettyprint source lang-ts"><code>await tx.signAuthEntries()
</code></pre>
<p>Under the hood, this uses <code>signAuthEntry</code>, which you either need to inject
during initial construction of the <code>Client</code>/<code>AssembledTransaction</code>,
or which you can pass directly to <code>signAuthEntries</code>.</p>
<p>Now Bob can again serialize the transaction and send back to Alice, where
she can finally call <code>signAndSend()</code>.</p>
<p>To see an even more complicated example, where Alice swaps with Bob but the
transaction is invoked by yet another party, check out
<a href="../../test/e2e/src/test-swap.js">test-swap.js</a>.</p></div>
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class='vertical-section'>
                <div class="members">
                    <div class="member">
                        <div class=name>
                            <span class="tag">Constructor</span>
                        </div>
                        


    
    <h4 class="name" id="AssembledTransaction">
        <a class="href-link" href="#AssembledTransaction">#</a>
        
        <span class="code-name">
            
                new AssembledTransaction<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line225">line 225</a>
            </span>
        </p>
    
</dl>






















                    </div>
                </div>
            </div>
        
    
    </div>
    
    

    

    

    

    

    

    
        <div class='vertical-section'>
            <h1>Members</h1>
            <div class="members">
            
                <div class="member">

<h4 class="name" id="Errors">
    <a class="href-link" href="#Errors">#</a>
    
    <span class="code-name">
        Errors
    </span>
    
</h4>




<div class="description">
    <p>A list of the most important errors that various AssembledTransaction
methods can throw. Feel free to catch specific errors in your application
logic.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line293">line 293</a>
            </span>
        </p>
    
</dl>





</div>
            
                <div class="member">

<h4 class="name" id="isReadCall">
    <a class="href-link" href="#isReadCall">#</a>
    
    <span class="code-name">
        isReadCall
    </span>
    
</h4>




<div class="description">
    <p>Whether this transaction is a read call. This is determined by the
simulation result and the transaction data. If the transaction is a read
call, it will not need to be signed and sent to the network. If this
returns <code>false</code>, then you need to call <code>signAndSend</code> on this transaction.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line759">line 759</a>
            </span>
        </p>
    
</dl>





</div>
            
                <div class="member">

<h4 class="name" id="needsNonInvokerSigningBy">
    <a class="href-link" href="#needsNonInvokerSigningBy">#</a>
    
    <span class="code-name">
        needsNonInvokerSigningBy
    </span>
    
</h4>




<div class="description">
    <p>Get a list of accounts, other than the invoker of the simulation, that
need to sign auth entries in this transaction.</p>
<p>Soroban allows multiple people to sign a transaction. Someone needs to
sign the final transaction envelope; this person/account is called the
<em>invoker</em>, or <em>source</em>. Other accounts might need to sign individual auth
entries in the transaction, if they're not also the invoker.</p>
<p>This function returns a list of accounts that need to sign auth entries,
assuming that the same invoker/source account will sign the final
transaction envelope as signed the initial simulation.</p>
<p>One at a time, for each public key in this array, you will need to
serialize this transaction with <code>toJSON</code>, send to the owner of that key,
deserialize the transaction with <code>txFromJson</code>, and call
<a href="AssembledTransaction.html#signAuthEntries">AssembledTransaction#signAuthEntries</a>. Then re-serialize and send to
the next account in this list.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line662">line 662</a>
            </span>
        </p>
    
</dl>





</div>
            
                <div class="member">

<h4 class="name" id="sign">
    <a class="href-link" href="#sign">#</a>
    
    <span class="code-name">
        sign
    </span>
    
</h4>




<div class="description">
    <p>Sign the transaction with the signTransaction function included previously.
If you did not previously include one, you need to include one now.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line556">line 556</a>
            </span>
        </p>
    
</dl>





</div>
            
                <div class="member">

<h4 class="name" id="signAndSend">
    <a class="href-link" href="#signAndSend">#</a>
    
    <span class="code-name">
        signAndSend
    </span>
    
</h4>




<div class="description">
    <p>Sign the transaction with the <code>signTransaction</code> function included previously.
If you did not previously include one, you need to include one now.
After signing, this method will send the transaction to the network and
return a <code>SentTransaction</code> that keeps track of all the attempts to fetch
the transaction. You may pass a Watcher to keep
track of this progress.</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line617">line 617</a>
            </span>
        </p>
    
</dl>





</div>
            
                <div class="member">

<h4 class="name" id="signAuthEntries">
    <a class="href-link" href="#signAuthEntries">#</a>
    
    <span class="code-name">
        signAuthEntries
    </span>
    
</h4>




<div class="description">
    <p>If <a href="AssembledTransaction.html#needsNonInvokerSigningBy">AssembledTransaction#needsNonInvokerSigningBy</a> returns a
non-empty list, you can serialize the transaction with <code>toJSON</code>, send it to
the owner of one of the public keys in the map, deserialize with
<code>txFromJSON</code>, and call this method on their machine. Internally, this will
use <code>signAuthEntry</code> function from connected <code>wallet</code> for each.</p>
<p>Then, re-serialize the transaction and either send to the next
<code>needsNonInvokerSigningBy</code> owner, or send it back to the original account
who simulated the transaction so they can <a href="AssembledTransaction.html#sign">AssembledTransaction#sign</a>
the transaction envelope and <a href="AssembledTransaction.html#send">AssembledTransaction#send</a> it to the
network.</p>
<p>Sending to all <code>needsNonInvokerSigningBy</code> owners in parallel is not
currently supported!</p>
</div>





<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line695">line 695</a>
            </span>
        </p>
    
</dl>





</div>
            
            </div>
        </div>
    

    
        <div class='vertical-section'>
            <h1>Methods</h1>
            <div class="members">
            
                <div class="member">


    
    <h4 class="name" id="restoreFootprint">
        <a class="href-link" href="#restoreFootprint">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                restoreFootprint<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Restores the footprint (resource ledger entries that can be read or written)
of an expired transaction.</p>
<p>The method will:</p>
<ol>
<li>Build a new transaction aimed at restoring the necessary resources.</li>
<li>Sign this new transaction if a <code>signTransaction</code> handler is provided.</li>
<li>Send the signed transaction to the network.</li>
<li>Await and return the response from the network.</li>
</ol>
<p>Preconditions:</p>
<ul>
<li>A <code>signTransaction</code> function must be provided during the Client initialization.</li>
<li>The provided <code>restorePreamble</code> should include a minimum resource fee and valid
transaction data.</li>
</ul>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line785">line 785</a>
            </span>
        </p>
    
</dl>
















    <div class='columns method-parameter'>
        <div class="column is-2"><label>Throws:</label></div>
        <div class="column is-10">
            
                    
<div class="columns">
    
    <div class='param-desc column is-7'><ul>
<li>Throws an error if no <code>signTransaction</code> function is provided during
Client initialization.</li>
</ul></div>
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
<code class="param-type">Error</code>


    </div>
    
</div>

                
                    
<div class="columns">
    
    <div class='param-desc column is-7'><ul>
<li>Throws a custom error if the
restore transaction fails, providing the details of the failure.</li>
</ul></div>
    <div class='column is-5 has-text-left'>
        <label>Type: </label>
<code class="param-type">AssembledTransaction.Errors.RestoreFailure</code>


    </div>
    
</div>

                
        </div>
    </div>






</div>
            
                <div class="member">


    
    <h4 class="name" id="send">
        <a class="href-link" href="#send">#</a>
        
            
                <span class='tag'>async</span>
            
        
        <span class="code-name">
            
                send<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Sends the transaction to the network to return a <code>SentTransaction</code> that
keeps track of all the attempts to fetch the transaction. Optionally pass
a Watcher that allows you to keep track of the progress as the
transaction is sent and processed.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line601">line 601</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="toJSON">
        <a class="href-link" href="#toJSON">#</a>
        
        <span class="code-name">
            
                toJSON<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Serialize the AssembledTransaction to a JSON string. This is useful for
saving the transaction to a database or sending it over the wire for
multi-auth workflows. <code>fromJSON</code> can be used to deserialize the
transaction. This only works with transactions that have been simulated.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line315">line 315</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id="toXDR">
        <a class="href-link" href="#toXDR">#</a>
        
        <span class="code-name">
            
                toXDR<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Serialize the AssembledTransaction to a base64-encoded XDR string.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line344">line 344</a>
            </span>
        </p>
    
</dl>





















</div>
            
                <div class="member">


    
    <h4 class="name" id=".build">
        <a class="href-link" href="#.build">#</a>
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            
                build<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Construct a new AssembledTransaction. This is the main way to create a new
AssembledTransaction; the constructor is private.</p>
<p>This is an asynchronous constructor for two reasons:</p>
<ol>
<li>It needs to fetch the account from the network to get the current
sequence number.</li>
<li>It needs to simulate the transaction to get the expected fee.</li>
</ol>
<p>If you don't want to simulate the transaction, you can set <code>simulate</code> to
<code>false</code> in the options.</p>
<p>If you need to create an operation other than <code>invokeHostFunction</code>, you
can use <a href="AssembledTransaction.html#.buildWithOp">AssembledTransaction.buildWithOp</a> instead.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line422">line 422</a>
            </span>
        </p>
    
</dl>





















    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>const tx = await AssembledTransaction.build({
  ...,
  simulate: false,
})</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id=".buildWithOp">
        <a class="href-link" href="#.buildWithOp">#</a>
        
            
                <span class='tag'>async</span>
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            
                buildWithOp<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Construct a new AssembledTransaction, specifying an Operation other than
<code>invokeHostFunction</code> (the default used by <a href="AssembledTransaction.html#.build">AssembledTransaction.build</a>).</p>
<p>Note: <code>AssembledTransaction</code> currently assumes these operations can be
simulated. This is not true for classic operations; only for those used by
Soroban Smart Contracts like <code>invokeHostFunction</code> and <code>createCustomContract</code>.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line444">line 444</a>
            </span>
        </p>
    
</dl>





















    <h5>Example</h5>
    
    
        <pre class="prettyprint"><code>const tx = await AssembledTransaction.buildWithOp(
  Operation.createCustomContract({ ... });
  {
    ...,
    simulate: false,
  }
)</code></pre>
    


</div>
            
                <div class="member">


    
    <h4 class="name" id=".fromXDR">
        <a class="href-link" href="#.fromXDR">#</a>
        
            
                <span class='tag'>static</span>
            
        
        <span class="code-name">
            
                fromXDR<span class="signature">()</span><span class="type-signature"></span>
            
        </span>
    </h4>
    

    
    
    <div class="description">
        <p>Deserialize the AssembledTransaction from a base64-encoded XDR string.</p>
    </div>
    













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    

    

    

    
        <p class="tag-source">
            <a href="lib_contract_assembled_transaction.js.html" class="button">View Source</a>
            <span>
                <a href="lib_contract_assembled_transaction.js.html">lib/contract/assembled_transaction.js</a>, <a href="lib_contract_assembled_transaction.js.html#line352">line 352</a>
            </span>
        </p>
    
</dl>





















</div>
            
            </div>
        </div>
    

    

    
</article>

</section>




            </div>
            
            <footer class="footer">
                <div class="content has-text-centered">
                    <p>Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 4.0.4</a></p>
                    <p class="sidebar-created-by">
                        <a href="https://github.com/SoftwareBrothers/better-docs" target="_blank">BetterDocs theme</a> provided with <i class="fas fa-heart"></i> by
                        <a href="http://softwarebrothers.co" target="_blank">SoftwareBrothers - JavaScript Development Agency</a>
                    </p>
                </div>
            </footer>
            
        </div>
        <div id="side-nav" class="side-nav">
        </div>
    </div>
<script src="scripts/app.min.js"></script>
<script>PR.prettyPrint();</script>
<script src="scripts/linenumber.js"> </script>

<script src="scripts/search.js"> </script>


</body>
</html>